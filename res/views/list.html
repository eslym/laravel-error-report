<!DOCTYPE html><title>Error Reports</title><link crossorigin="anonymous" href="https://cdn.datatables.net/1.10.18/css/dataTables.semanticui.min.css" integrity="sha384-NWDSc00/CBkibLhoKVtYHuQj8VuJNbeHZDTpWhMKBFDPTLSgT2l3HSJjItrJl+B9" rel="stylesheet"><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" integrity="sha256-9mbkOfVho3ZPXfM7W8sV2SndrGDuh7wuyLjtsWeTI1Q=" rel="stylesheet"><link crossorigin="anonymous" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.semanticui.min.css" integrity="sha384-Ntav57xESwsVryMdxDC3CG1VWvWNrxYxgKpQmZXtWwDV/ypfVa0kp4rhvraTFJJ1" rel="stylesheet"><script crossorigin="anonymous" integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh" src="https://code.jquery.com/jquery-3.4.1.min.js"></script><script crossorigin="anonymous" integrity="sha256-t8GepnyPmw9t+foMh3mKNvcorqNHamSKtKRxxpUEgFI=" src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script><script crossorigin="anonymous" integrity="sha384-r3v0/sXe5ocDydKBFcxP390rex2dEm9qN3Yv68S6uNX/F3b/RtMdGMUADZ8tabkz" src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js"></script><script crossorigin="anonymous" integrity="sha384-5IYbSnFd6TeNKhOf8CO6LuJpN4IuBiaYwOsPv7CQsbF8sctyVeh7GU3OlfvFBW6n" src="https://cdn.datatables.net/1.10.18/js/dataTables.semanticui.min.js"></script><script crossorigin="anonymous" integrity="sha384-utW62Q5udTycRsqDMdQwjeaKASTAE2cf20juuz5yfC1n1hu8gBJ1Pn0oEzKIb8Gd" src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script><script crossorigin="anonymous" integrity="sha384-fcF9eJURpHYoXg4EOQUt585TNKVmiahNP9nHmn0sgDvGd69x94o9IUheOiDsmeHc" src="https://cdn.datatables.net/responsive/2.2.3/js/responsive.semanticui.min.js"></script><style>table.responsive{width:100%!important}</style><script>function drawAction(a,e,i,t){return $.el("div").append($.el("div").data("id",i.id).addClass("ui tiny icon buttons").append($.el("button").append($.el("i").addClass("eye icon")).attr("data-action","view").attr("data-id",i.id).addClass("ui green button")).append($.el("button").append($.el("i").addClass("trash icon")).attr("data-action","delete").attr("data-id",i.id).addClass("ui red button"))).html()}jQuery.el=function(a){return $(document.createElement(a))},$.fn.dataTable.defaults.dom="<'ui basic segment'<'ui stackable grid'<'row dt-table'<'sixteen wide column'tr>><'row'<'seven wide column'i><'right aligned nine wide column'p>>>>",$.fn.dataTable.ext.renderer.pageButton.semanticUI=function(o,a,c,e,r,u){var b,p,i,f=new $.fn.dataTable.Api(o),g=o.oClasses,m=o.oLanguage.oAria.paginate||{},h=0,v=function(a,e){var i,t,n,d,l=function(a){a.preventDefault(),$(a.currentTarget).hasClass("disabled")||f.page()==a.data.action||f.page(a.data.action).draw("page")};for(i=0,t=e.length;i<t;i++)if(d=e[i],$.isArray(d))v(a,d);else{switch(p=b="",d){case"ellipsis":b='<i class="ellipsis horizontal icon"></i>',p="disabled icon";break;case"first":b='<i class="angle double left icon"></i>',p=d+(0<r?"":" disabled")+" icon";break;case"previous":b='<i class="angle left icon"></i>',p=d+(0<r?"":" disabled")+" icon";break;case"next":b='<i class="angle right icon"></i>',p=d+(r<u-1?"":" disabled")+" icon";break;case"last":b='<i class="angle double right icon"></i>',p=d+(r<u-1?"":" disabled")+" icon";break;default:b=d+1,p=r===d?"active":""}var s=-1===p.indexOf("disabled")?"a":"div";b&&(n=$("<"+s+">",{class:g.sPageButton+" "+p,id:0===c&&"string"==typeof d?o.sTableId+"_"+d:null,href:"#","aria-controls":o.sTableId,"aria-label":m[d],"data-dt-idx":h,tabindex:o.iTabIndex}).html(b).appendTo(a),o.oApi._fnBindAction(n,{action:d},l),h++)}};try{i=$(a).find(document.activeElement).data("dt-idx")}catch(a){}v($(a).empty().html('<div class="ui stackable pagination menu"/>').children(),e),void 0!==i&&$(a).find("[data-dt-idx="+i+"]").focus()}</script><div class="ui segment basic"><div class="ui form">Show<div class="ui compact dropdown selection" id="len"><input name="len" type="hidden"> <i class="icon dropdown"></i><div class="text">10</div><div class="menu"><div class="item" data-value="10">10</div><div class="item" data-value="20">20</div><div class="item" data-value="30">30</div><div class="item" data-value="40">40</div><div class="item" data-value="50">50</div></div></div>entries</div></div><table class="ui small celled definition nowrap responsive table unstackable" id="dt"><thead><tr><th><th title="First Seen">First Seen<th title="Last Seen">Last Seen<th title="Report ID">Report ID<th title="Site">Site<th title="Error Type">Error Type<th title="Error Count">Error Count<th title="Comment Count">Comment Count<th><tfoot><tr><th><th><div class="ui fluid input transparent"><input placeholder="First Seen"></div><th><div class="ui fluid input transparent"><input placeholder="Last Seen"></div><th><div class="ui fluid input transparent"><input placeholder="Report ID"></div><th><div class="ui fluid input transparent"><input placeholder="Site"></div><th><div class="ui fluid input transparent"><input placeholder="Error Type"></div><th><div class="ui fluid input transparent"><input placeholder="Error Count"></div><th><div class="ui fluid input transparent"><input placeholder="Comment Count"></div><th></table><script>!function(e,a){e.dt=a("#dt").DataTable({serverSide:!0,processing:!0,ajax:"",columns:[{name:"is_console",data:"is_console",title:"",orderable:!1,searchable:!1,render:function(e,a,t,n){return()=>"1"==e?"<i class='ui terminal icon'></i>":"<i class='ui file alternate outline icon'></i>"},className:"collapsing center aligned"},{name:"created_at",data:"created_at",title:"First Seen",orderable:!0,searchable:!0},{name:"updated_at",data:"updated_at",title:"Last Seen",orderable:!0,searchable:!0},{name:"id",data:"id",title:"Report ID",render:function(e,a,t,n){return()=>"<code>"+e+"</code>"},orderable:!0,searchable:!0},{name:"site",data:"site",title:"Site",orderable:!0,searchable:!0},{name:"class",data:"class",title:"Error Type",orderable:!0,searchable:!0},{name:"counter",data:"counter",title:"Error Count",className:"center aligned",orderable:!0,searchable:!0},{name:"comments",data:"comments",title:"Comment Count",className:"center aligned",orderable:!0,searchable:!0},{defaultContent:"",data:"action",name:"action",title:"",render:function(e,a,t,n){return()=>drawAction(e,a,t,n)},orderable:!1,searchable:!1,className:"collapsing"}],order:[[2,"desc"]],responsive:!0,language:{decimal:"",emptyTable:"No data available in table",info:"Showing _START_ to _END_ of _TOTAL_ entries",infoEmpty:"Showing 0 to 0 of 0 entries",infoFiltered:"(filtered from _MAX_ total entries)",infoPostFix:"",thousands:",",lengthMenu:"Show _MENU_ entries",loadingRecords:"Loading...",processing:"Processing...",search:"Search:",zeroRecords:"No matching records found",aria:{sortAscending:": activate to sort column ascending",sortDescending:": activate to sort column descending"}}})}(window,jQuery);</script><div class="ui container"><div class="ui modal tiny" id="deleteModal"><div class="ui header icon"><i class="icon alternate trash"></i> Are you sure?</div><div class="content"><p>You are about to delete report <code class="id"></code>, this action cannot be undone.</div><div class="actions"><div class="ui button inverted inverted cancel red"><i class="icon remove"></i> No</div><div class="ui button green ok"><i class="icon checkmark"></i> Yes</div></div></div><div class="ui modal small" id="viewModal"><div class="header">Error <span class="id"></span></div><div class="content"><div class="ui segments"><div class="ui segment"><h4>Sample Reports</h4><div class="ui placeholder"><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div></div><div class="actual reports"></div></div><div class="ui segment"><h4>Comments</h4><div class="ui placeholder"><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div></div><div class="actual comments"></div></div></div></div></div></div><script>let select=function(){if(document.body.createTextRange){const e=document.body.createTextRange();e.moveToElementText(this),e.select()}else if(window.getSelection){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(this),e.removeAllRanges(),e.addRange(t)}else console.warn("Could not select text in node: Unsupported browser.")};dt.columns().every(function(){let e=this;this.search($("input",this.footer()).val()),this.draw(),$("input",this.footer()).on("keyup change",function(){e.search()!==this.value&&e.search(this.value).draw()})});let len=$("#len.dropdown").dropdown({onChange:e=>{dt.page.len(e).draw()}}).find("input").val();dt.page.len(len),$("#dt").on("click","button[data-action=delete]",function(){let e=$("#deleteModal").attr("data-id",$(this).data("id"));e.find("code.id").text($(this).data("id")),e.modal("show")}).on("click","button[data-action=view]",function(){let e=$("#viewModal");e.find("span.id").text($(this).data("id")),e.find(".placeholder").show(),e.find(".actual").hide(),e.modal("show"),$.getJSON(window.location,{action:"view",id:$(this).data("id")},t=>{if(t.reports.length>0){let a=$.el("div").addClass("ui list"),d=document.createElement("a");d.href=window.location.href,$.each(t.reports,function(e,t){d.search=$.param({action:"download",id:t.id}),a.append($.el("div").addClass("item").append($.el("i").addClass("file icon")).append($.el("div").addClass("content").append($.el("a").addClass("header").text(t.id).attr("href",d.href).attr("download",t.id+".html")).append($.el("div").addClass("description").text(t.created_at))))}),e.find(".actual.reports").empty().append(a)}else e.find(".actual.reports").empty().append($.el("i").text("No Sample Reports"));if(t.comments.length>0){let a=$.el("div").addClass("ui comments");$.each(t.comments,function(e,t){let d=$.el("div").addClass("text"),n=t.content.split("\n");d.append($.el("p").html($.map(n,e=>$.el("p").text(e).html()).join("<br/>")));let l=$.el("a").addClass("author");t.email?l.attr("href","mailto:"+t.email).text(t.email):l.text("<Unknown>"),a.append($.el("div").addClass("comment").append($.el("div").addClass("avatar").append($.el("i").addClass("big user icon"))).append($.el("div").addClass("content").append(l).append($.el("div").addClass("metadata").append($.el("div").addClass("date").text(t.created_at))).append(d).append($.el("div").addClass("actions"))))}),e.find(".actual.comments").empty().append(a)}else e.find(".actual.comments").empty().append($.el("i").text("No Comments"));e.find(".placeholder").hide(),e.find(".actual").show()})}).on("dblclick","td:nth-child(4)",select),$("#deleteModal").modal({approve:"button.ok",cancel:"button.cancel",onApprove:function(){$.getJSON(window.location,{action:"delete",id:$(this).attr("data-id")},function(){dt.draw()})}}).on("click","code.id",select);</script>